<script>
    window.addEventListener("DOMContentLoaded", () => {
        const idInput = document.getElementById("id");
        const pwInput = document.getElementById("pw");

        // localStorage에서 이전 ID/PW 가져오기
        const savedId = localStorage.getItem("userId");
        const savedPw = localStorage.getItem("userPw");

        if (savedId) idInput.value = savedId;
        if (savedPw) pwInput.value = savedPw;

        // 로그인 버튼 이벤트
        document.getElementById("loginBtn").addEventListener("click", () => {
            const id = idInput.value.trim();
            const pw = pwInput.value.trim();

            if (!id || !pw) {
                alert("ID와 PW를 입력하세요.");
                return;
            }

            // 기존 저장 값과 비교
            if (savedId && savedPw && (savedId !== id || savedPw !== pw)) {
                const overwrite = confirm("기존 정보와 다릅니다. 변경하시겠습니까?");
                if (overwrite) {
                    localStorage.setItem("userId", id);
                    localStorage.setItem("userPw", pw);
                }
            } else if (!savedId || !savedPw) {
                // 최초 저장
                localStorage.setItem("userId", id);
                localStorage.setItem("userPw", pw);
            }

            // 세션 저장 (현재 접속용)
            sessionStorage.setItem("userId", id);
            sessionStorage.setItem("userPw", pw);

            // index.html로 이동
            window.location.href = "index.html";
        });
    });
</script>
